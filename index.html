
<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Diminished Value Claim Questionnaire</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 2rem;
        background: #f4f8fb;
        color: #222;
      }
      .form-card {
        border: 1px solid #c3d0e0;
        border-radius: 16px;
        padding: 2rem;
        max-width: 650px;
        margin: auto;
        background: #fff;
        box-shadow: 0 2px 16px 0 rgba(60, 90, 130, 0.07);
      }
      .form-group {
        margin-bottom: 1.5rem;
      }
      label {
        font-weight: 600;
        display: block;
        margin-bottom: 0.5rem;
        color: #2a3a4d;
      }
      .options {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
        align-items: center;
        margin-bottom: 0.5rem;
      }
      .options label {
        font-weight: 400;
        display: flex;
        align-items: center;
        gap: 0.4em;
        background: #f6f8fa;
        padding: 0.3em 0.8em;
        border-radius: 6px;
        border: 1px solid #e0e6ed;
        transition:
          border 0.2s,
          background 0.2s;
      }
      .options label:has(input:checked) {
        border: 1.5px solid #4a90e2;
        background: #eaf3fb;
      }
      .options label:focus-within {
        outline: 2px solid #357ab8;
        outline-offset: 2px;
        box-shadow: 0 0 0 2px #b3d4fc;
      }
      @media (max-width: 600px) {
        body {
          margin: 0.5rem;
        }
        .form-card {
          padding: 0.7rem;
          border-radius: 8px;
          box-shadow: 0 1px 6px 0 rgba(60, 90, 130, 0.07);
        }
        .options {
          flex-direction: column;
          gap: 0.7rem;
          align-items: flex-start;
        }
        input,
        select,
        button {
          font-size: 1.1rem;
        }
        label,
        legend {
          font-size: 1rem;
        }
        button {
          width: 100%;
          padding: 1rem 0;
          font-size: 1.1rem;
        }
      }
      fieldset {
        border: none;
        margin: 0 0 2rem 0;
        padding: 0;
      }
      legend {
        font-size: 1.2rem;
        font-weight: 700;
        color: #357ab8;
        margin-bottom: 1rem;
        background: #f0f4fa;
        padding: 0.5em 1em;
        border-radius: 8px;
        display: inline-block;
      }
      input,
      select {
        width: 100%;
        padding: 0.5rem;
        margin-top: 0.25rem;
        border-radius: 6px;
        border: 1px solid #b0b8c1;
        background: #f9fbfd;
        color: #222;
        font-size: 1rem;
      }
      input[type="radio"] {
        margin-right: 0.5rem;
      }

      @media (max-width: 500px) {
        .options {
          flex-direction: column;
          gap: 0.5rem;
        }
      }
      input:focus,
      select:focus {
        outline: 2px solid #4a90e2;
        border-color: #4a90e2;
        background: #fff;
      }
      button {
        padding: 0.5rem 1.5rem;
        border-radius: 8px;
        border: none;
        background: #4a90e2;
        color: #fff;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.2s;
      }
      button:hover,
      button:focus {
        background: #357ab8;
      }
      .result {
        margin-top: 2rem;
        font-size: 1.2rem;
        font-weight: 600;
        color: #fff;
        background: #4a90e2;
        border-radius: 8px;
        padding: 1rem 1.5rem;
        box-shadow: 0 2px 8px 0 rgba(60, 90, 130, 0.07);
        min-height: 2.5rem;
        transition:
          background 0.2s,
          color 0.2s;
      }
      small {
        color: #666;
      }
      @media (max-width: 700px) {
        .form-card {
          padding: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <h1>Vehicle Claims Submission Form</h1>
    <div style="margin-bottom: 1.5rem; color: #357ab8; font-size: 1rem">
      <strong>Note:</strong> Fields marked with
      <span style="color: red">*</span> are required.
    </div>
    <form id="appraisal-form" class="form-card">
      <fieldset style="border: none; padding: 0; margin: 0 0 1.5rem 0">
        <legend
          style="
            font-size: 1.2rem;
            font-weight: 700;
            color: #357ab8;
            margin-bottom: 1rem;
          "
        >
          General Info
        </legend>
        <div class="form-group">
          <label id="owner-label"
            >Are you the owner of the vehicle that was in an accident?
            <span style="color: red">*</span></label
          >
          <div class="options" role="radiogroup" aria-labelledby="owner-label">
            <label for="owner_yes"
              ><input
                type="radio"
                id="owner_yes"
                name="owner"
                value="yes"
                required
                aria-required="true"
              />
              Yes</label
            >
            <label for="owner_no"
              ><input
                type="radio"
                id="owner_no"
                name="owner"
                value="no"
                aria-required="true"
              />
              No</label
            >
          </div>
        </div>
        <div class="form-group">
          <label for="vehicle_status"
            >Vehicle status (total loss / Borderline total loss):
            <span style="color: red">*</span></label
          >
          <select
            id="vehicle_status"
            name="vehicle_status"
            required
            aria-required="true"
          >
            <option value="">Select...</option>
            <option value="obvious_total_loss">Obvious Total Loss</option>
            <option value="borderline_total_loss">Borderline Total Loss</option>
          </select>
        </div>
        <div class="form-group">
          <label for="inspection_date"
            >Date of Inspection: <span style="color: red">*</span></label
          >
          <input
            type="date"
            id="inspection_date"
            name="inspection_date"
            required
            aria-required="true"
          />
        </div>
      </fieldset>
      <div class="form-group" id="damage-photos-group">

      <fieldset class="form-group">
        <legend>Vehicle drivable? <span style="color: red">*</span></legend>
        <div class="options" role="radiogroup" aria-label="Vehicle drivable?">
          <label for="drivable_yes"
            ><input
              type="radio"
              id="drivable_yes"
              name="drivable"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="drivable_no"
            ><input
              type="radio"
              id="drivable_no"
              name="drivable"
              value="no"
              aria-required="true"
            />
            No</label
          >
        </div>
      </fieldset>
      <h2>Accident Details</h2>
      <fieldset class="form-group">
        <legend>
          Has your vehicle been involved in any accidents prior to this one?
          <span style="color: red">*</span>
        </legend>
        <div class="options" role="radiogroup" aria-label="Previous accidents">
          <label for="prev_accident_yes"
            ><input
              type="radio"
              id="prev_accident_yes"
              name="prev_accident"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="prev_accident_no"
            ><input
              type="radio"
              id="prev_accident_no"
              name="prev_accident"
              value="no"
              aria-required="true"
            />
            No</label
          >
        </div>
      </fieldset>
      <fieldset class="form-group">
        <legend>Were you at fault? <span style="color: red">*</span></legend>
        <div class="options" role="radiogroup" aria-label="At fault">
          <label for="at_fault_yes"
            ><input
              type="radio"
              id="at_fault_yes"
              name="at_fault"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="at_fault_no"
            ><input
              type="radio"
              id="at_fault_no"
              name="at_fault"
              value="no"
              aria-required="true"
            />
            No</label
          >
          <label for="at_fault_unsure"
            ><input
              type="radio"
              id="at_fault_unsure"
              name="at_fault"
              value="unsure"
              aria-required="true"
            />
            Unknown</label
          >
        </div>
      </fieldset>
      <fieldset class="form-group">
        <legend>
          Was there another party/vehicle involved in the accident?
          <span style="color: red">*</span>
        </legend>
        <div
          class="options"
          role="radiogroup"
          aria-label="Other party involved"
        >
          <label for="other_party_yes"
            ><input
              type="radio"
              id="other_party_yes"
              name="other_party"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="other_party_no"
            ><input
              type="radio"
              id="other_party_no"
              name="other_party"
              value="no"
              aria-required="true"
            />
            No</label
          >
          
        </div>
      </fieldset>
      <fieldset class="form-group">
        <legend>Are you insured? <span style="color: red">*</span></legend>
        <div class="options" role="radiogroup" aria-label="Are you insured?">
          <label for="insured_yes"
            ><input
              type="radio"
              id="insured_yes"
              name="insured"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="insured_no"
            ><input
              type="radio"
              id="insured_no"
              name="insured"
              value="no"
              aria-required="true"
            />
            No</label
          >
        </div>
      </fieldset>
      <fieldset class="form-group">
        <legend>
          Have you received a damage or repair estimate yet?
          <span style="color: red">*</span>
        </legend>
        <div class="options" role="radiogroup" aria-label="Received estimate">
          <label for="estimate_yes"
            ><input
              type="radio"
              name="estimate"
              id="estimate_yes"
              value="yes"
              required
              aria-required="true"
            />
            Yes</label
          >
          <label for="estimate_no"
            ><input
              type="radio"
              name="estimate"
              id="estimate_no"
              value="no"
              aria-required="true"
            />
            No</label
          >
        </div>
      </fieldset>
      <div class="form-group" id="estimate-upload-group" style="display: none">
        <label for="estimate_pdf"
          >Upload your damage estimate (PDF only)
          <span style="color: red">*</span>:</label
        >
        <input
          type="file"
          id="estimate_pdf"
          name="estimate_pdf"
          accept="application/pdf"
          aria-describedby="estimate_pdf_error"
          aria-required="true"
        />
        <div
          id="estimate_pdf_error"
          class="error-msg"
          style="color: red; font-size: 0.95em; margin-top: 0.25em"
          aria-live="assertive"
        ></div>
      </div>

      <div class="form-group" id="damage-photos-group">
        <label for="damage_photos">Upload damage photos (optional, JPG/PNG, up to 5 files):</label>
        <input
          type="file"
          id="damage_photos"
          name="damage_photos"
          accept="image/jpeg,image/png"
          multiple
          aria-describedby="damage_photos_error"
        />
        <div id="damage_photos_error" class="error-msg" style="color: red; font-size: 0.95em; margin-top: 0.25em" aria-live="assertive"></div>
        <div id="damage_photos_preview" style="display: flex; gap: 0.5em; margin-top: 0.5em;"></div>
      </div>
      <div class="form-group">
        <label>Where is the vehicle current location?</label>
        <input type="text" name="vehicle_location" required />
      </div>
      <h2>Contact Info</h2>
      <div class="form-group">
        <label>Vehicle Owner First Name *</label>
        <input type="text" name="first_name" required />
      </div>
      <div class="form-group">
        <label>Vehicle Owner Last Name *</label>
        <input type="text" name="last_name" required />
      </div>
      <div class="form-group">
        <label>Vehicle Owner Email *</label>
        <input type="email" name="email" required />
      </div>
      <div class="form-group">
        <label>Mobile Phone *</label>
        <input type="tel" name="phone" required />
        <small
          >We require a valid mobile number to prevent spam and ensure you are
          easily reachable by our vehicle appraisers.</small
        >
      </div>
      <div class="form-group">
        <label for="zip">Zip Code <span style="color: red">*</span></label>
        <input type="text" id="zip" name="zip" maxlength="10" required />
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input type="text" id="city" name="city" />
      </div>
      <div class="form-group">
        <label for="state">State</label>
        <input type="text" id="state" name="state" />
      </div>
      <h2>Vehicle Info</h2>
      <div class="form-group">
        <label>Enter Vehicle By</label>
        <select name="vehicle_entry" id="vehicle_entry" required>
          <option value="">Select...</option>
          <option value="vin">VIN</option>
          <option value="year_make_model">Year, Make, Model</option>
        </select>
      </div>
      <div class="form-group" id="vin-group" style="display: none">
        <label>Vehicle VIN *</label>
        <input
          type="text"
          name="vehicle_vin"
          id="vehicle_vin"
          maxlength="17"
          minlength="11"
          pattern="[A-HJ-NPR-Z0-9]{11,17}"
          placeholder="Enter VIN"
          autocomplete="off"
        />
        <button type="button" id="decode_vin_btn" style="margin-top: 0.5rem">
          Decode VIN
        </button>
        <div id="vin-info" style="margin-top: 10px"></div>
        <div
          id="vin-decode-status"
          style="margin-top: 0.5rem; color: #666"
        ></div>
      </div>
      <div id="ymm-group">
        <div class="form-group">
          <label>Vehicle Year *</label>
          <input type="text" name="vehicle_year" id="vehicle_year" required />
        </div>
        <div class="form-group">
          <label>Vehicle Make *</label>
          <select name="vehicle_make" id="vehicle_make_select" required>
            <option value="">Select a brand...</option>
            <option value="Acura">Acura</option>
            <option value="Audi">Audi</option>
            <option value="BMW">BMW</option>
            <option value="Buick">Buick</option>
            <option value="Cadillac">Cadillac</option>
            <option value="Chevrolet">Chevrolet</option>
            <option value="Chrysler">Chrysler</option>
            <option value="Dodge">Dodge</option>
            <option value="Ford">Ford</option>
            <option value="GMC">GMC</option>
            <option value="Honda">Honda</option>
            <option value="Hyundai">Hyundai</option>
            <option value="Infiniti">Infiniti</option>
            <option value="Jeep">Jeep</option>
            <option value="Kia">Kia</option>
            <option value="Land Rover">Land Rover</option>
            <option value="Lexus">Lexus</option>
            <option value="Mazda">Mazda</option>
            <option value="Mercedes-Benz">Mercedes-Benz</option>
            <option value="Nissan">Nissan</option>
            <option value="RAM">RAM</option>
            <option value="Subaru">Subaru</option>
            <option value="Tesla">Tesla</option>
            <option value="Toyota">Toyota</option>
            <option value="Volkswagen">Volkswagen</option>
            <option value="Volvo">Volvo</option>
            <option value="Other">Other (type below)</option>
          </select>
          <input
            type="text"
            name="vehicle_make_other"
            id="vehicle_make_input"
            placeholder="Type brand if not listed"
            style="margin-top: 0.5rem; display: none"
          />
        </div>
        <div class="form-group">
          <label>Vehicle Model *</label>
          <input type="text" name="vehicle_model" id="vehicle_model" required />
        </div>
      </div>
      <button type="submit">Submit Form</button>
      <div id="result" class="result" role="status" aria-live="polite">
        We invite you to explore the possibility of a fair settlement claim by
        providing your contact information and vehicle details. Accurate and
        detailed information will significantly improve your chances of a
        successful claim. After we thoroughly review your information for
        accuracy, we will be able to assist you further. Please note that the
        initial consultation is always FREE!
      </div>
    </form>
    <style>
      .spinner {
        display: inline-block;
        width: 22px;
        height: 22px;
        border: 3px solid #e0e6ed;
        border-top: 3px solid #4a90e2;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
        vertical-align: middle;
        margin-left: 0.5em;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
    <script type="module" src="/main.js"></script>
    <script>
      // Show PDF upload if estimate is 'yes'
      const estimateRadios = document.getElementsByName("estimate");
      const uploadGroup = document.getElementById("estimate-upload-group");
      estimateRadios.forEach((radio) => {
        radio.addEventListener("change", function () {
          if (this.value === "yes" && this.checked) {
            uploadGroup.style.display = "";
          } else if (this.value === "no" && this.checked) {
            uploadGroup.style.display = "none";
            document.getElementById("estimate_pdf").value = "";
          }
        });
      });
    </script>
    <script>
      const makeSelect = document.getElementById("vehicle_make_select");
      const makeInput = document.getElementById("vehicle_make_input");
      makeSelect.addEventListener("change", function () {
        if (this.value === "Other") {
          makeInput.style.display = "block";
          makeInput.required = true;
        } else {
          makeInput.style.display = "none";
          makeInput.required = false;
          makeInput.value = "";
        }
      });
    </script>
  </body>
</html>
